Ignoring invalid configuration option passed to Connection: max. This is currently a warning, but in future versions of MySQL2, an error will be thrown if you pass an invalid configuration option to a Connection
Ignoring invalid configuration option passed to Connection: connectionTimeoutMillis. This is currently a warning, but in future versions of MySQL2, an error will be thrown if you pass an invalid configuration option to a Connection
[90m[4mquery:[24m[39m [94mSELECT[0m [95mversion[0m[37m([0m[37m)[0m
üöÄ Starting Registrar Workflow Verification...
[90m[4mquery:[24m[39m [94mSELECT[0m [37m`User`[0m[37m.[0m[37m`id`[0m [94mAS[0m [37m`User_id`[0m[37m,[0m [37m`User`[0m[37m.[0m[37m`email`[0m [94mAS[0m [37m`User_email`[0m[37m,[0m [37m`User`[0m[37m.[0m[37m`firebaseUid`[0m [94mAS[0m [37m`User_firebaseUid`[0m[37m,[0m [37m`User`[0m[37m.[0m[37m`firstName`[0m [94mAS[0m [37m`User_firstName`[0m[37m,[0m [37m`User`[0m[37m.[0m[37m`lastName`[0m [94mAS[0m [37m`User_lastName`[0m[37m,[0m [37m`User`[0m[37m.[0m[37m`role`[0m [94mAS[0m [37m`User_role`[0m[37m,[0m [37m`User`[0m[37m.[0m[37m`status`[0m [94mAS[0m [37m`User_status`[0m[37m,[0m [37m`User`[0m[37m.[0m[37m`phone`[0m [94mAS[0m [37m`User_phone`[0m[37m,[0m [37m`User`[0m[37m.[0m[37m`mfaEnabled`[0m [94mAS[0m [37m`User_mfaEnabled`[0m[37m,[0m [37m`User`[0m[37m.[0m[37m`mfaSecret`[0m [94mAS[0m [37m`User_mfaSecret`[0m[37m,[0m [37m`User`[0m[37m.[0m[37m`tenantId`[0m [94mAS[0m [37m`User_tenantId`[0m[37m,[0m [37m`User`[0m[37m.[0m[37m`lastLoginAt`[0m [94mAS[0m [37m`User_lastLoginAt`[0m[37m,[0m [37m`User`[0m[37m.[0m[37m`permissions`[0m [94mAS[0m [37m`User_permissions`[0m[37m,[0m [37m`User`[0m[37m.[0m[37m`temporaryPassword`[0m [94mAS[0m [37m`User_temporaryPassword`[0m[37m,[0m [37m`User`[0m[37m.[0m[37m`mustChangePassword`[0m [94mAS[0m [37m`User_mustChangePassword`[0m[37m,[0m [37m`User`[0m[37m.[0m[37m`passwordChangedAt`[0m [94mAS[0m [37m`User_passwordChangedAt`[0m[37m,[0m [37m`User`[0m[37m.[0m[37m`createdAt`[0m [94mAS[0m [37m`User_createdAt`[0m[37m,[0m [37m`User`[0m[37m.[0m[37m`updatedAt`[0m [94mAS[0m [37m`User_updatedAt`[0m [94mFROM[0m [37m`users`[0m [37m`User`[0m [94mWHERE[0m [37m([0m[37m([0m[37m`User`[0m[37m.[0m[37m`role`[0m [37m=[0m [37m?[0m[37m)[0m[37m)[0m [94mLIMIT[0m [32m1[0m [90m-- PARAMETERS: ["registrar"][0m
Creating dummy application...
[90m[4mquery:[24m[39m [37mSTART[0m [37mTRANSACTION[0m
[90m[4mquery:[24m[39m [94mINSERT INTO[0m [37m`society_applications`[0m[37m([0m[37m`id`[0m[37m,[0m [37m`fileNumber`[0m[37m,[0m [37m`applicationType`[0m[37m,[0m [37m`proposedName`[0m[37m,[0m [37m`status`[0m[37m,[0m [37m`applicantUserId`[0m[37m,[0m [37m`primaryContactName`[0m[37m,[0m [37m`primaryContactEmail`[0m[37m,[0m [37m`primaryContactPhone`[0m[37m,[0m [37m`physicalAddress`[0m[37m,[0m [37m`submittedAt`[0m[37m,[0m [37m`assignedFileNumberAt`[0m[37m,[0m [37m`securityClearedAt`[0m[37m,[0m [37m`legalApprovedAt`[0m[37m,[0m [37m`finalDecisionAt`[0m[37m,[0m [37m`securityVettingNotes`[0m[37m,[0m [37m`registryClerkId`[0m[37m,[0m [37m`intelligenceLiaisonId`[0m[37m,[0m [37m`legalOfficerId`[0m[37m,[0m [37m`finalDecisionMakerId`[0m[37m,[0m [37m`certificateNumber`[0m[37m,[0m [37m`certificateIssuedAt`[0m[37m,[0m [37m`rejectionReasons`[0m[37m,[0m [37m`appealLodgedAt`[0m[37m,[0m [37m`appealDecisionAt`[0m[37m,[0m [37m`appealDecisionMakerId`[0m[37m,[0m [37m`appealOutcome`[0m[37m,[0m [37m`feeAmount`[0m[37m,[0m [37m`feePaidAt`[0m[37m,[0m [37m`createdAt`[0m[37m,[0m [37m`updatedAt`[0m[37m)[0m [94mVALUES[0m [37m([0m[37m?[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [37m?[0m[37m,[0m [37m?[0m[37m,[0m [37m?[0m[37m,[0m [37m?[0m[37m,[0m [37m?[0m[37m,[0m [37m?[0m[37m,[0m [37m?[0m[37m,[0m [37m?[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [37m?[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m)[0m [90m-- PARAMETERS: ["50230177-0cfc-4db4-95fb-082582d6a0b4","general_society","Test Society 1771360602292","pending_decision","55fc54c3-12ff-4a39-b819-efb182f85ec2","John Doe","john@example.com","71000000","Gaborone, Botswana",250][0m
[4m[31mquery failed:[39m[24m [94mINSERT INTO[0m [37m`society_applications`[0m[37m([0m[37m`id`[0m[37m,[0m [37m`fileNumber`[0m[37m,[0m [37m`applicationType`[0m[37m,[0m [37m`proposedName`[0m[37m,[0m [37m`status`[0m[37m,[0m [37m`applicantUserId`[0m[37m,[0m [37m`primaryContactName`[0m[37m,[0m [37m`primaryContactEmail`[0m[37m,[0m [37m`primaryContactPhone`[0m[37m,[0m [37m`physicalAddress`[0m[37m,[0m [37m`submittedAt`[0m[37m,[0m [37m`assignedFileNumberAt`[0m[37m,[0m [37m`securityClearedAt`[0m[37m,[0m [37m`legalApprovedAt`[0m[37m,[0m [37m`finalDecisionAt`[0m[37m,[0m [37m`securityVettingNotes`[0m[37m,[0m [37m`registryClerkId`[0m[37m,[0m [37m`intelligenceLiaisonId`[0m[37m,[0m [37m`legalOfficerId`[0m[37m,[0m [37m`finalDecisionMakerId`[0m[37m,[0m [37m`certificateNumber`[0m[37m,[0m [37m`certificateIssuedAt`[0m[37m,[0m [37m`rejectionReasons`[0m[37m,[0m [37m`appealLodgedAt`[0m[37m,[0m [37m`appealDecisionAt`[0m[37m,[0m [37m`appealDecisionMakerId`[0m[37m,[0m [37m`appealOutcome`[0m[37m,[0m [37m`feeAmount`[0m[37m,[0m [37m`feePaidAt`[0m[37m,[0m [37m`createdAt`[0m[37m,[0m [37m`updatedAt`[0m[37m)[0m [94mVALUES[0m [37m([0m[37m?[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [37m?[0m[37m,[0m [37m?[0m[37m,[0m [37m?[0m[37m,[0m [37m?[0m[37m,[0m [37m?[0m[37m,[0m [37m?[0m[37m,[0m [37m?[0m[37m,[0m [37m?[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [37m?[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m,[0m [94mDEFAULT[0m[37m)[0m [90m-- PARAMETERS: ["50230177-0cfc-4db4-95fb-082582d6a0b4","general_society","Test Society 1771360602292","pending_decision","55fc54c3-12ff-4a39-b819-efb182f85ec2","John Doe","john@example.com","71000000","Gaborone, Botswana",250][0m
[4m[31merror:[39m[24m Error: Unknown column 'securityVettingNotes' in 'field list'
[90m[4mquery:[24m[39m [37mROLLBACK[0m
‚ùå Verification failed: QueryFailedError: Unknown column 'securityVettingNotes' in 'field list'
    at Query.onResult (/Users/ikymasie/Documents/GitHub/KIKA/node_modules/typeorm/src/driver/mysql/MysqlQueryRunner.ts:248:33)
    at Query.execute (/Users/ikymasie/Documents/GitHub/KIKA/node_modules/mysql2/lib/commands/command.js:36:14)
    at PoolConnection.handlePacket (/Users/ikymasie/Documents/GitHub/KIKA/node_modules/mysql2/lib/base/connection.js:508:34)
    at PacketParser.onPacket (/Users/ikymasie/Documents/GitHub/KIKA/node_modules/mysql2/lib/base/connection.js:93:12)
    at PacketParser.executeStart (/Users/ikymasie/Documents/GitHub/KIKA/node_modules/mysql2/lib/packet_parser.js:75:16)
    at Socket.<anonymous> (/Users/ikymasie/Documents/GitHub/KIKA/node_modules/mysql2/lib/base/connection.js:100:25)
    at Socket.emit (node:events:507:28)
    at Socket.emit (node:domain:489:12)
    at addChunk (node:internal/streams/readable:559:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3) {
  query: 'INSERT INTO `society_applications`(`id`, `fileNumber`, `applicationType`, `proposedName`, `status`, `applicantUserId`, `primaryContactName`, `primaryContactEmail`, `primaryContactPhone`, `physicalAddress`, `submittedAt`, `assignedFileNumberAt`, `securityClearedAt`, `legalApprovedAt`, `finalDecisionAt`, `securityVettingNotes`, `registryClerkId`, `intelligenceLiaisonId`, `legalOfficerId`, `finalDecisionMakerId`, `certificateNumber`, `certificateIssuedAt`, `rejectionReasons`, `appealLodgedAt`, `appealDecisionAt`, `appealDecisionMakerId`, `appealOutcome`, `feeAmount`, `feePaidAt`, `createdAt`, `updatedAt`) VALUES (?, DEFAULT, ?, ?, ?, ?, ?, ?, ?, ?, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, ?, DEFAULT, DEFAULT, DEFAULT)',
  parameters: [
    '50230177-0cfc-4db4-95fb-082582d6a0b4',
    'general_society',
    'Test Society 1771360602292',
    'pending_decision',
    '55fc54c3-12ff-4a39-b819-efb182f85ec2',
    'John Doe',
    'john@example.com',
    '71000000',
    'Gaborone, Botswana',
    250
  ],
  driverError: Error: Unknown column 'securityVettingNotes' in 'field list'
      at Packet.asError (/Users/ikymasie/Documents/GitHub/KIKA/node_modules/mysql2/lib/packets/packet.js:739:17)
      at Query.execute (/Users/ikymasie/Documents/GitHub/KIKA/node_modules/mysql2/lib/commands/command.js:29:26)
      at PoolConnection.handlePacket (/Users/ikymasie/Documents/GitHub/KIKA/node_modules/mysql2/lib/base/connection.js:508:34)
      at PacketParser.onPacket (/Users/ikymasie/Documents/GitHub/KIKA/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/ikymasie/Documents/GitHub/KIKA/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/ikymasie/Documents/GitHub/KIKA/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:507:28)
      at Socket.emit (node:domain:489:12)
      at addChunk (node:internal/streams/readable:559:12)
      at readableAddChunkPushByteMode (node:internal/streams/readable:510:3) {
    code: 'ER_BAD_FIELD_ERROR',
    errno: 1054,
    sqlState: '42S22',
    sqlMessage: "Unknown column 'securityVettingNotes' in 'field list'",
    sql: "INSERT INTO `society_applications`(`id`, `fileNumber`, `applicationType`, `proposedName`, `status`, `applicantUserId`, `primaryContactName`, `primaryContactEmail`, `primaryContactPhone`, `physicalAddress`, `submittedAt`, `assignedFileNumberAt`, `securityClearedAt`, `legalApprovedAt`, `finalDecisionAt`, `securityVettingNotes`, `registryClerkId`, `intelligenceLiaisonId`, `legalOfficerId`, `finalDecisionMakerId`, `certificateNumber`, `certificateIssuedAt`, `rejectionReasons`, `appealLodgedAt`, `appealDecisionAt`, `appealDecisionMakerId`, `appealOutcome`, `feeAmount`, `feePaidAt`, `createdAt`, `updatedAt`) VALUES ('50230177-0cfc-4db4-95fb-082582d6a0b4', DEFAULT, 'general_society', 'Test Society 1771360602292', 'pending_decision', '55fc54c3-12ff-4a39-b819-efb182f85ec2', 'John Doe', 'john@example.com', '71000000', 'Gaborone, Botswana', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, 250, DEFAULT, DEFAULT, DEFAULT)"
  },
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sqlState: '42S22',
  sqlMessage: "Unknown column 'securityVettingNotes' in 'field list'",
  sql: "INSERT INTO `society_applications`(`id`, `fileNumber`, `applicationType`, `proposedName`, `status`, `applicantUserId`, `primaryContactName`, `primaryContactEmail`, `primaryContactPhone`, `physicalAddress`, `submittedAt`, `assignedFileNumberAt`, `securityClearedAt`, `legalApprovedAt`, `finalDecisionAt`, `securityVettingNotes`, `registryClerkId`, `intelligenceLiaisonId`, `legalOfficerId`, `finalDecisionMakerId`, `certificateNumber`, `certificateIssuedAt`, `rejectionReasons`, `appealLodgedAt`, `appealDecisionAt`, `appealDecisionMakerId`, `appealOutcome`, `feeAmount`, `feePaidAt`, `createdAt`, `updatedAt`) VALUES ('50230177-0cfc-4db4-95fb-082582d6a0b4', DEFAULT, 'general_society', 'Test Society 1771360602292', 'pending_decision', '55fc54c3-12ff-4a39-b819-efb182f85ec2', 'John Doe', 'john@example.com', '71000000', 'Gaborone, Botswana', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, 250, DEFAULT, DEFAULT, DEFAULT)"
}
